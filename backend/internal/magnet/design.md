# 种子下载功能

1. 用户界面点击按钮添加下载任务
2. 此时弹出一个输入框，让用户输入磁力链接
3. 输入后调用 ParseTorrent 接口将种子添加到qb但是是暂停状态，解析拿到种子中对应的文件信息，然后找出媒体类型的文件进行识别
4. 将对应种子中的文件、识别信息以及tmdb_id返回给前端
5. 用户可以去修改文件对应的季度、集数以及tmdb_id。其中tmdb_id支持搜索（订阅那里也要同步修改）
6. 用户如果点击取消，则去qb中删除对应的任务，如果点击确定，那么调用 AddDownloadTask 生成任务存储在db中，并将qb的任务开始下载
7. 用户在界面中可以看到所有的下载任务，并支持按种子名进行搜索
   1. 可以看到的信息有：种子名、下载进度信息、种子状态（与订阅中文件管理洁面类似）
   2. 当点击某个任务后，可以弹出详细信息：种子中的文件，以及识别情况和TMDB id，在这里用户可以修改并保存。
   3. 详情界面也会展示在外侧能看到的包括种子名、下载进度、种子状态等的信息，同时还有几个新功能：手动触发整个种子的转移、添加字幕
   4. 对于媒体文件所在的父目录，有添加字幕功能，点击后弹窗，让用户找到需要添加的字幕所在的文件夹位置，调用 RenameAndMoveSubtitles 接口，接口中会将文件夹下的字幕移动到当前媒体文件的目录并自动重命名为与媒体文件相同的格式进行匹配。